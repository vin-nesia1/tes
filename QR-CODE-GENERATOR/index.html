<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Create stunning QR codes with VIN NESIA - Free, fast, and professional QR code generator.">
  <title data-lang="metaTitle">QR Code Generator - VIN NESIA | Free & Professional Tool</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />

  <!-- SEO meta tags -->
  <meta name="title" data-lang="metaTitle" content="QR Code Generator - VIN NESIA | Free & Professional Tool">
  <meta name="description" data-lang="metaDescription" content="Generate high-quality QR codes with an elegant design. Stylish, fast, and free by VIN NESIA. Create QR codes for URLs, text, and more.">
  <meta name="keywords" content="QR Code, Generator, Stylish QR, Free QR Code, Vin Nesia, QR code generator, pembuat kode QR">
  <meta name="author" content="Vin Nesia">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph tags -->
  <meta property="og:title" data-lang="ogTitle" content="QR Code Generator - VIN NESIA | Free & Professional Tool">
  <meta property="og:description" data-lang="ogDescription" content="Generate high-quality QR codes with an elegant design. Stylish, fast, and free by VIN NESIA.">
  <meta property="og:image" content="https://vinnesia.my.id/images/logo-vinnesia.png">
  <meta property="og:url" content="https://vinnesia.my.id/QR-CODE-GENERATOR">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="VIN NESIA QR Generator">
  <meta property="og:locale" data-lang="ogLocale" content="en_US">

  <!-- Twitter Card tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@VinNesiaID">
  <meta name="twitter:creator" content="@VinNesiaID">
  <meta name="twitter:title" data-lang="twitterTitle" content="QR Code Generator - VIN NESIA | Free & Professional Tool">
  <meta name="twitter:description" data-lang="twitterDescription" content="Generate high-quality QR codes with an elegant design. Stylish, fast, and free by VIN NESIA.">
  <meta name="twitter:image" content="https://vinnesia.my.id/images/logo-vinnesia.png">

  <link rel="canonical" href="https://vinnesia.my.id/QR-CODE-GENERATOR">
  <link rel="alternate" hreflang="id" href="https://vinnesia.my.id/QR-CODE-GENERATOR?lang=id">
  <link rel="alternate" hreflang="en" href="https://vinnesia.my.id/QR-CODE-GENERATOR?lang=en">
  
  <!-- Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-F8V8Y4XQN4"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-F8V8Y4XQN4');
  </script>

  <style>
    :root {
      --primary-purple: #3e0c4a;
      --primary-red: #e34242;
      --primary-gold: #ffd700;
      --bg-dark: #120a16;
      --card-dark: #1e1123;
      --text-main: #f1f1f5;
      --text-muted: #b5bacb;
      --border-radius: 1.1rem;
      --transition: 0.2s cubic-bezier(.4,0,.2,1);
    }
    
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Poppins', sans-serif;
      background: var(--bg-dark);
      color: var(--text-main);
      min-height: 100vh;
      scroll-behavior: smooth;
    }

    .hero-bg {
      background: linear-gradient(120deg, #3e0c4a 0%, #1e1123 100%);
      background-size: 200% 200%;
      animation: heroGradient 8s ease-in-out infinite alternate;
    }

    @keyframes heroGradient {
      0% { background-position: 0% 50%; }
      100% { background-position: 100% 50%; }
    }

    .nav-toggle span {
      transition: transform 0.3s ease, opacity 0.3s ease;
      transform-origin: center;
    }
    
    .nav-toggle.active span:nth-child(1) {
      transform: translateY(8px) rotate(45deg);
    }
    
    .nav-toggle.active span:nth-child(2) {
      opacity: 0;
    }
    
    .nav-toggle.active span:nth-child(3) {
      transform: translateY(-8px) rotate(-45deg);
    }

    .mobile-nav-menu {
      transform: translateX(100%);
      transition: transform 0.3s ease-in-out;
    }
    
    .mobile-nav-menu.active {
      transform: translateX(0);
    }

    .qr-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .generate-btn {
      background: linear-gradient(135deg, var(--primary-gold) 0%, var(--primary-red) 100%);
      transition: all var(--transition);
    }

    .generate-btn:hover {
      background: linear-gradient(135deg, var(--primary-red) 0%, var(--primary-gold) 100%);
      transform: translateY(-2px);
    }

    .action-btn {
      background: linear-gradient(135deg, var(--primary-purple) 0%, var(--primary-red) 100%);
    }

    .action-btn:hover {
      background: linear-gradient(135deg, var(--primary-red) 0%, var(--primary-purple) 100%);
      transform: translateY(-1px);
    }
  </style>
</head>

<body class="bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 min-h-screen">
  <!-- Header -->
  <header class="bg-gray-900/95 sticky top-0 z-50 px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16 shadow-md border-b border-gray-800" role="banner">
    <div class="flex items-center gap-3">
      <img src="/images/logo-vinnesia.png" alt="VIN NESIA Logo" class="h-10 w-10 rounded-lg shadow-md object-contain" loading="lazy">
      <span class="text-xl sm:text-2xl font-bold text-red-400">VIN NESIA</span>
    </div>
    
    <div class="flex items-center gap-4 sm:gap-6">
      <div class="lang-switcher">
        <button id="langSwitcher" class="flex items-center gap-2 font-semibold text-red-400 border-2 border-red-400 rounded-full px-3 py-1.5 hover:bg-red-400 hover:text-gray-900 transition focus:outline focus:outline-2 focus:outline-yellow-400" aria-label="Toggle language menu">
          <span id="currentLang">EN</span>
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
      </div>
      
      <button class="nav-toggle sm:hidden flex flex-col gap-1.5 p-2" id="navToggle" aria-label="Toggle navigation menu">
        <span class="w-6 h-0.5 bg-red-400 rounded"></span>
        <span class="w-6 h-0.5 bg-red-400 rounded"></span>
        <span class="w-6 h-0.5 bg-red-400 rounded"></span>
      </button>
    </div>
    
    <nav id="mainNav" class="sm:flex hidden gap-4 sm:gap-6 items-center" role="navigation">
      <a href="/" class="font-medium text-white hover:text-red-400 focus:text-red-400 focus:outline focus:outline-2 focus:outline-red-400 px-3 py-1.5 rounded-md" data-lang="navHome">Home</a>
      <a href="/tools" class="font-medium text-white hover:text-red-400 focus:text-red-400 focus:outline focus:outline-2 focus:outline-red-400 px-3 py-1.5 rounded-md" data-lang="navAllTools">All Tools</a>
      <a href="/about" class="font-medium text-white hover:text-red-400 focus:text-red-400 focus:outline focus:outline-2 focus:outline-red-400 px-3 py-1.5 rounded-md" data-lang="navAbout">About Us</a>
      <a href="/donate" class="font-medium text-white hover:text-red-400 focus:text-red-400 focus:outline focus:outline-2 focus:outline-red-400 px-3 py-1.5 rounded-md" data-lang="navDonate">Donate</a>
    </nav>
  </header>

  <!-- Mobile Navigation -->
  <nav id="mobileNavMenu" class="mobile-nav-menu fixed top-16 right-0 bg-gray-800/95 w-3/4 max-w-xs h-screen flex flex-col p-4 shadow-lg z-40 sm:hidden" role="dialog" aria-modal="true">
    <a href="/" class="font-medium text-white hover:text-red-400 focus:text-red-400 px-3 py-3 rounded-md" data-lang="navHome">Home</a>
    <a href="/tools" class="font-medium text-white hover:text-red-400 focus:text-red-400 px-3 py-3 rounded-md" data-lang="navAllTools">All Tools</a>
    <a href="/about" class="font-medium text-white hover:text-red-400 focus:text-red-400 px-3 py-3 rounded-md" data-lang="navAbout">About Us</a>
    <a href="/donate" class="font-medium text-white hover:text-red-400 focus:text-red-400 px-3 py-3 rounded-md" data-lang="navDonate">Donate</a>
  </nav>

  <!-- Hero Section -->
  <section class="hero-bg py-16 sm:py-20 px-4 text-center text-white mb-10 border-b-4 border-red-400/30" role="region">
    <div class="max-w-4xl mx-auto">
      <div class="flex justify-center mb-6">
        <div class="w-16 h-16 bg-gradient-to-br from-yellow-400 to-red-400 rounded-2xl flex items-center justify-center text-3xl shadow-lg">
          üî≤
        </div>
      </div>
      <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-red-400 mb-4" data-lang="heroTitle">QR Code Generator</h1>
      <p class="text-lg sm:text-xl max-w-2xl mx-auto mb-6 text-gray-300" data-lang="heroDescription">Create stunning QR codes instantly - Scan, Share, and Simplify your digital world!</p>
    </div>
  </section>

  <!-- Main Content -->
  <main class="max-w-4xl mx-auto px-4 mb-16">
    <!-- QR Generator Card -->
    <section class="qr-card rounded-2xl shadow-2xl p-6 sm:p-8 text-center mb-8">
      <h2 class="text-2xl font-bold text-red-400 mb-6" data-lang="generateTitle">Generate Your QR Code</h2>
      
      <div class="mb-6">
        <input type="text" id="qrInput"
          class="w-full p-4 rounded-xl bg-gray-800/50 text-white border-2 border-gray-600 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-400 focus:border-red-400 text-lg transition"
          placeholder="Enter text, URL, or any content..." data-lang="inputPlaceholder">
      </div>
      
      <button onclick="generateQR()" class="generate-btn text-gray-900 font-bold px-8 py-4 rounded-xl shadow-lg transform transition hover:shadow-xl focus:outline focus:outline-2 focus:outline-yellow-400 text-lg">
        <span data-lang="generateButton">‚ú® Generate QR Code</span>
      </button>
      
      <!-- QR Code Display -->
      <div id="qrCode" class="mt-8 flex justify-center"></div>
      
      <!-- Action Buttons -->
      <div id="actionButtons" class="hidden mt-6 flex flex-col sm:flex-row justify-center gap-4">
        <button onclick="downloadQR()" id="downloadBtn" class="action-btn text-white font-semibold px-6 py-3 rounded-lg shadow-lg transition hover:shadow-xl focus:outline focus:outline-2 focus:outline-yellow-400">
          <span data-lang="downloadButton">üì• Download PNG</span>
        </button>
        <button onclick="shareQR()" id="shareBtn" class="action-btn text-white font-semibold px-6 py-3 rounded-lg shadow-lg transition hover:shadow-xl focus:outline focus:outline-2 focus:outline-yellow-400">
          <span data-lang="shareButton">üì§ Share QR</span>
        </button>
      </div>
    </section>

    <!-- History Section -->
    <section class="qr-card rounded-xl p-6 mb-8">
      <h2 class="text-xl font-semibold text-red-400 mb-4" data-lang="historyTitle">üìö Recent QR Codes</h2>
      <div id="historyContainer" class="text-gray-300">
        <ul id="historyList" class="space-y-2 text-left"></ul>
        <div id="emptyHistory" class="text-center text-gray-500 py-4" data-lang="emptyHistory">No QR codes generated yet. Create your first one above!</div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
      <div class="qr-card rounded-xl p-6 text-center">
        <div class="w-12 h-12 bg-gradient-to-br from-yellow-400 to-red-400 rounded-lg flex items-center justify-center text-2xl mx-auto mb-4">‚ö°</div>
        <h3 class="font-semibold text-red-400 mb-2" data-lang="feature1Title">Lightning Fast</h3>
        <p class="text-gray-400 text-sm" data-lang="feature1Desc">Generate QR codes instantly with our optimized engine</p>
      </div>
      <div class="qr-card rounded-xl p-6 text-center">
        <div class="w-12 h-12 bg-gradient-to-br from-purple-400 to-red-400 rounded-lg flex items-center justify-center text-2xl mx-auto mb-4">üé®</div>
        <h3 class="font-semibold text-red-400 mb-2" data-lang="feature2Title">High Quality</h3>
        <p class="text-gray-400 text-sm" data-lang="feature2Desc">Crystal clear QR codes perfect for any use case</p>
      </div>
      <div class="qr-card rounded-xl p-6 text-center">
        <div class="w-12 h-12 bg-gradient-to-br from-green-400 to-red-400 rounded-lg flex items-center justify-center text-2xl mx-auto mb-4">üîí</div>
        <h3 class="font-semibold text-red-400 mb-2" data-lang="feature3Title">Privacy First</h3>
        <p class="text-gray-400 text-sm" data-lang="feature3Desc">All processing happens locally - your data stays private</p>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-900 border-t-2 border-gray-800 text-gray-400 mt-12" role="contentinfo">
    <div class="max-w-6xl mx-auto px-4 py-8">
      <div class="text-center">
        <a href="/" class="flex items-center justify-center gap-2 mb-4">
          <img src="/images/logo-vinnesia.png" alt="VIN NESIA Logo" class="h-8 w-8 rounded-lg" loading="lazy">
          <span class="text-xl font-bold text-red-400">VIN NESIA</span>
        </a>
        <p class="text-gray-400 mb-4" data-lang="footerDescription">
          Free, professional, and reliable QR code generator for all your needs.
        </p>
        <div class="flex justify-center gap-4 mb-4">
          <a href="/" class="text-gray-400 hover:text-red-400 transition" data-lang="footerHome">Home</a>
          <a href="/tools" class="text-gray-400 hover:text-red-400 transition" data-lang="footerTools">All Tools</a>
          <a href="/about" class="text-gray-400 hover:text-red-400 transition" data-lang="footerAbout">About</a>
          <a href="/donate" class="text-gray-400 hover:text-red-400 transition" data-lang="footerDonate">Donate</a>
        </div>
      </div>
    </div>
    
    <div class="text-center text-sm py-4 border-t border-gray-800 bg-gray-950">
      <span data-lang="copyright">¬© 2025 VIN NESIA. All rights reserved. Built with <span class="text-red-400">‚ù§Ô∏è</span> for everyone.</span>
      <br>
      <a href="mailto:vin.nesiaa.id@gmail.com" class="text-red-400 hover:text-yellow-400 transition">vin.nesiaa.id@gmail.com</a>
    </div>
  </footer>

  <!-- QR Code Library -->
  <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
  
  <script>
    // Translations
    const translations = {
      en: {
        metaTitle: "QR Code Generator - VIN NESIA | Free & Professional Tool",
        metaDescription: "Generate high-quality QR codes with an elegant design. Stylish, fast, and free by VIN NESIA. Create QR codes for URLs, text, and more.",
        ogTitle: "QR Code Generator - VIN NESIA | Free & Professional Tool",
        ogDescription: "Generate high-quality QR codes with an elegant design. Stylish, fast, and free by VIN NESIA.",
        ogLocale: "en_US",
        twitterTitle: "QR Code Generator - VIN NESIA | Free & Professional Tool",
        twitterDescription: "Generate high-quality QR codes with an elegant design. Stylish, fast, and free by VIN NESIA.",
        navHome: "Home",
        navAllTools: "All Tools",
        navAbout: "About Us",
        navDonate: "Donate",
        heroTitle: "QR Code Generator",
        heroDescription: "Create stunning QR codes instantly - Scan, Share, and Simplify your digital world!",
        generateTitle: "Generate Your QR Code",
        inputPlaceholder: "Enter text, URL, or any content...",
        generateButton: "‚ú® Generate QR Code",
        downloadButton: "üì• Download PNG",
        shareButton: "üì§ Share QR",
        historyTitle: "üìö Recent QR Codes",
        emptyHistory: "No QR codes generated yet. Create your first one above!",
        feature1Title: "Lightning Fast",
        feature1Desc: "Generate QR codes instantly with our optimized engine",
        feature2Title: "High Quality",
        feature2Desc: "Crystal clear QR codes perfect for any use case",
        feature3Title: "Privacy First",
        feature3Desc: "All processing happens locally - your data stays private",
        footerDescription: "Free, professional, and reliable QR code generator for all your needs.",
        footerHome: "Home",
        footerTools: "All Tools",
        footerAbout: "About",
        footerDonate: "Donate",
        copyright: "¬© 2025 VIN NESIA. All rights reserved. Built with ‚ù§Ô∏è for everyone.",
      },
      id: {
        metaTitle: "Generator Kode QR - VIN NESIA | Alat Gratis & Profesional",
        metaDescription: "Buat kode QR berkualitas tinggi dengan desain elegan. Stylish, cepat, dan gratis oleh VIN NESIA. Buat kode QR untuk URL, teks, dan lainnya.",
        ogTitle: "Generator Kode QR - VIN NESIA | Alat Gratis & Profesional",
        ogDescription: "Buat kode QR berkualitas tinggi dengan desain elegan. Stylish, cepat, dan gratis oleh VIN NESIA.",
        ogLocale: "id_ID",
        twitterTitle: "Generator Kode QR - VIN NESIA | Alat Gratis & Profesional",
        twitterDescription: "Buat kode QR berkualitas tinggi dengan desain elegan. Stylish, cepat, dan gratis oleh VIN NESIA.",
        navHome: "Beranda",
        navAllTools: "Semua Alat",
        navAbout: "Tentang Kami",
        navDonate: "Donasi",
        heroTitle: "Generator Kode QR",
        heroDescription: "Buat kode QR menakjubkan secara instan - Pindai, Bagikan, dan Sederhanakan dunia digital Anda!",
        generateTitle: "Buat Kode QR Anda",
        inputPlaceholder: "Masukkan teks, URL, atau konten apa pun...",
        generateButton: "‚ú® Buat Kode QR",
        downloadButton: "üì• Unduh PNG",
        shareButton: "üì§ Bagikan QR",
        historyTitle: "üìö Kode QR Terbaru",
        emptyHistory: "Belum ada kode QR yang dibuat. Buat yang pertama di atas!",
        feature1Title: "Super Cepat",
        feature1Desc: "Buat kode QR secara instan dengan engine yang dioptimalkan",
        feature2Title: "Kualitas Tinggi",
        feature2Desc: "Kode QR jernih sempurna untuk berbagai kegunaan",
        feature3Title: "Privasi Utama",
        feature3Desc: "Semua pemrosesan terjadi secara lokal - data Anda tetap pribadi",
        footerDescription: "Generator kode QR gratis, profesional, dan terpercaya untuk semua kebutuhan Anda.",
        footerHome: "Beranda",
        footerTools: "Semua Alat",
        footerAbout: "Tentang",
        footerDonate: "Donasi",
        copyright: "¬© 2025 VIN NESIA. All rights reserved. Built with ‚ù§Ô∏è for everyone.",
      }
    };

    // QR Code functionality
    let qrCodeInstance = null;
    let currentLang = 'en';

    // Language management
    function setLanguage(lang) {
      if (lang === 'en' || lang === 'id') {
        currentLang = lang;
        document.getElementById('currentLang').textContent = lang.toUpperCase();
        document.documentElement.lang = lang;
        localStorage.setItem('qr_lang', lang);

        // Update all elements with data-lang attribute
        document.querySelectorAll('[data-lang]').forEach(el => {
          const key = el.getAttribute('data-lang');
          if (translations[lang][key]) {
            if (el.tagName === 'INPUT') {
              el.placeholder = translations[lang][key];
            } else {
              el.textContent = translations[lang][key];
            }
          }
        });

        // Update meta tags
        document.querySelector('title').textContent = translations[lang].metaTitle;
        document.querySelector('meta[name="description"]').content = translations[lang].metaDescription;
        document.querySelector('meta[property="og:title"]').content = translations[lang].ogTitle;
        document.querySelector('meta[property="og:description"]').content = translations[lang].ogDescription;
        document.querySelector('meta[property="og:locale"]').content = translations[lang].ogLocale;
        document.querySelector('meta[name="twitter:title"]').content = translations[lang].twitterTitle;
        document.querySelector('meta[name="twitter:description"]').content = translations[lang].twitterDescription;

        renderHistory();
      }
    }

    // Navigation functionality
    function setupNavigation() {
      const navToggle = document.getElementById('navToggle');
      const mobileNavMenu = document.getElementById('mobileNavMenu');
      
      if (navToggle && mobileNavMenu) {
        navToggle.addEventListener('click', function() {
          navToggle.classList.toggle('active');
          mobileNavMenu.classList.toggle('active');
        });
      }

      // Language switcher
      const langSwitcher = document.getElementById('langSwitcher');
      if (langSwitcher) {
        langSwitcher.addEventListener('click', () => {
          setLanguage(currentLang === 'en' ? 'id' : 'en');
        });
      }
    }

    // QR Code generation
    function generateQR() {
      const input = document.getElementById('qrInput').value.trim();
      const qrCodeDiv = document.getElementById('qrCode');
      const actionButtons = document.getElementById('actionButtons');
      
      qrCodeDiv.innerHTML = '';
      actionButtons.classList.add('hidden');
      
      if (!input) {
        alert(currentLang === 'en' ? 'Please enter some text or URL' : 'Silakan masukkan teks atau URL');
        return;
      }

      // Save to history
      saveToHistory(input);

      // Clear previous QR code
      if (qrCodeInstance) {
        qrCodeInstance.clear();
      }

      // Create new QR code
      qrCodeInstance = new QRCode(qrCodeDiv, {
        text: input,
        width: 256,
        height: 256,
        colorDark: "#000000",
        colorLight: "#ffffff",
        correctLevel: QRCode.CorrectLevel.H
      });

      // Show action buttons
      actionButtons.classList.remove('hidden');
    }

    // Download QR code
    function downloadQR() {
      const qrCodeDiv = document.getElementById('qrCode');
      const canvas = qrCodeDiv.querySelector('canvas');
      
      if (canvas) {
        const link = document.createElement('a');
        link.download = 'vinnesia-qrcode.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
      }
    }

    // Share QR code
    function shareQR() {
      const qrCodeDiv = document.getElementById('qrCode');
      const canvas = qrCodeDiv.querySelector('canvas');
      
      if (canvas && navigator.share) {
        canvas.toBlob(blob => {
          const file = new File([blob], 'vinnesia-qrcode.png', { type: 'image/png' });
          navigator.share({
            title: 'QR Code by VIN NESIA',
            text: 'Scan this QR Code created with VIN NESIA!',
            files: [file]
          }).catch(err => console.log('Share failed:', err));
        });
      } else {
        // Fallback - copy canvas as image to clipboard
        if (navigator.clipboard && canvas) {
          canvas.toBlob(blob => {
            navigator.clipboard.write([
              new ClipboardItem({ 'image/png': blob })
            ]).then(() => {
              alert(currentLang === 'en' ? 'QR Code copied to clipboard!' : 'Kode QR disalin ke clipboard!');
            }).catch(err => {
              alert(currentLang === 'en' ? 'Sharing not supported on this device/browser.' : 'Berbagi tidak didukung di perangkat/browser ini.');
            });
          });
        } else {
          alert(currentLang === 'en' ? 'Sharing not supported on this device/browser.' : 'Berbagi tidak didukung di perangkat/browser ini.');
        }
      }
    }

    // History management
    function saveToHistory(content) {
      const history = JSON.parse(localStorage.getItem("qrHistory") || "[]");
      if (!history.includes(content)) {
        history.unshift(content);
        if (history.length > 10) history.pop();
        localStorage.setItem("qrHistory", JSON.stringify(history));
        renderHistory();
      }
    }

    function renderHistory() {
      const historyList = document.getElementById('historyList');
      const emptyHistory = document.getElementById('emptyHistory');
      const history = JSON.parse(localStorage.getItem("qrHistory") || "[]");
      
      historyList.innerHTML = '';
      
      if (history.length === 0) {
        emptyHistory.style.display = 'block';
        historyList.style.display = 'none';
      } else {
        emptyHistory.style.display = 'none';
        historyList.style.display = 'block';
        
        history.forEach((item, index) => {
          const li = document.createElement("li");
          li.className = "flex items-center justify-between p-3 bg-gray-800/30 rounded-lg hover:bg-gray-800/50 transition";
          li.innerHTML = `
            <span class="text-sm text-gray-300 truncate flex-1 mr-3">${item}</span>
            <button onclick="regenerateQR('${item.replace(/'/g, "\\'")}')" class="text-red-400 hover:text-red-300 text-sm font-medium px-3 py-1 rounded bg-gray-700 hover:bg-gray-600 transition">
              ${currentLang === 'en' ? 'Generate' : 'Buat'}
            </button>
          `;
          historyList.appendChild(li);
        });
      }
    }

    function regenerateQR(content) {
      document.getElementById('qrInput').value = content;
      generateQR();
      // Smooth scroll to QR code
      document.getElementById('qrCode').scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    // Initialize everything when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      // Load saved language preference
      const savedLang = localStorage.getItem('qr_lang');
      setLanguage(savedLang || 'en');
      
      // Setup navigation
      setupNavigation();
      
      // Setup Enter key for input
      const qrInput = document.getElementById('qrInput');
      if (qrInput) {
        qrInput.addEventListener('keypress', function(e) {
          if (e.key === 'Enter') {
            generateQR();
          }
        });
        
        // Focus input on load
        qrInput.focus();
      }
      
      // Initial history render
      renderHistory();
    });
  </script>
</body>
</html>
